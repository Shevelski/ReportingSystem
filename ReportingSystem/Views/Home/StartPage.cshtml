@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = @Localizer["StartPage"];
}
@* <p class="text-center textcolor customfont">
    @Localizer["ReportingSystem"]
</p> *@


<div class="container-fluid ">

    <div class="row">
        <div class="col-8">
            <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active button-carousel" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" class=" button-carousel" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" class=" button-carousel" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="d-flex justify-content-center">
                            <img src="~/img/financial-analysis.jpg" class="d-block custom-carousel-image" alt="...">
                        </div>
                        <div class="carousel-caption d-none d-md-block  ">
                            <h5 class="text-black">@Localizer["PowerfulTool"]</h5>
                            <p class="text-black">@Localizer["RobustDynamicToolset"]</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-flex justify-content-center ">
                            <img src="~/img/ipad-with-diagram.jpg" class="d-block custom-carousel-image" alt="...">
                        </div>

                        <div class="carousel-caption d-none d-md-block ">
                            <h5 class="text-black">@Localizer["ComprehensiveAnalysis"]</h5>
                            <p class="text-black">@Localizer["ProvideInsights"]</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-flex justify-content-center" >
                            <img src="~/img/businesspeople-meeting.jpg" class="d-block custom-carousel-image" alt="...">
                        </div>
                        <div class="carousel-caption d-none d-md-block ">
                            <h5 class="text-black">@Localizer["ResourceOptimization"]</h5>
                            <p class="text-black">@Localizer["MaximizeEfficiency"]</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg mb-2 mt-2">
            <div id="calendar-container">
                <div id="calendar" class="textcolor "></div>
            </div>
        </div>
        
    </div>

    <div class="row">
        <div class="col-lg-8 column-custom">
            <div class="column">
                <img src="/img/3.png" alt="Image 1">
                <div class="overlay">@Localizer["EffectiveManagement"]</div>
            </div>
            <div class="column">
                <img src="/img/1.png" alt="Image 2">
                <div class="overlay">@Localizer["ReportTime"]</div>
            </div>
            <div class="column">
                <img src="/img/2.png" alt="Image 3">
                <div class="overlay">@Localizer["AnalyticsApplication"]</div>
            </div>
        </div>
        <div class="col-lg d-flex justify-content-center">
            <div id="currency-app">
                <p class="textcolor customfont" style=" text-align: center">@Localizer["CurrencyExchange"]</p>
                <table class="table-bordered textcolor" >
                    <thead >
                        <tr>
                            <th style=" text-align: center">@Localizer["Currency"]</th>
                            <th style=" text-align: center">@Localizer["Rate"]</th>
                        </tr>
                    </thead>
                    <tbody >
                        <tr v-for="rate in filteredExchangeRates" :key="rate.cc">
                            <td style=" text-align: center">{{ localizedCurrencyLabels[rate.cc] }}</td>
                            <td class="narrow-column" style=" text-align: center">{{ rate.rate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>



<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.8/dist/vue.js"></script>
<link href="~/css/startindex.css" rel="stylesheet" />
<script>

    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            // themeSystem: 'bootstrap5',
            initialView: 'dayGridMonth',
            locale: '@ViewBag.CookieValue',
            height: 'auto',
            buttonText: {
                today: '@Localizer["Today"]', 
                // month: 'Month',
                // week: 'Week'
            }, 
            // dayCellContent: function (arg) {
            //     // Add the number element with the fc-daygrid-day-number class
            //     return { html: '<span class="fc-daygrid-day-number">' + arg.dayNumberText + '</span>' };
            // }
            // headerToolbar: {
            //     left: 'prev,next today',
            //     center: 'title',
            //     right: 'dayGridMonth,timeGridWeek,timeGridDay'
            // }
            // height: 650

            // calendar.setOption('height', 700);
        });
        calendar.render();
    });

</script>
<script>
    new Vue({
        el: '#currency-app',
        data: {
            exchangeRates: [],
            localizedCurrencyLabels: {
                USD: "@Localizer["Dollar"]",
                EUR: "@Localizer["Euro"]",
                // Add more currencies as needed
            },
        },
        computed: {
            filteredExchangeRates() {
                return this.exchangeRates.filter(rate => rate.cc === 'USD' || rate.cc === 'EUR');
            }
        },
        mounted() {
            this.fetchExchangeRates();
        },
        methods: {
            async fetchExchangeRates() {
                try {
                    const response = await fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');
                    const data = await response.json();
                    this.exchangeRates = data;
                    // console.log(this.exchangeRates)
                } catch (error) {
                    console.error('Error fetching exchange rates:', error);
                }
            }
        }
    });
</script>
